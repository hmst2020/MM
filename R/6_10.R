#####使用R 基本運算元(operator)計算#####
R<- 100       #  每期金額
i<- 0.03/12   #  每期(月)利率
n <- 24       #  期數(月)

(P <-R * (1-(1+ i)^(-n))/i)   # 公式(6)計算現值

ca.factor <- ((1+ i)^ n -1)/i          # 公式(5)複利因子
all.equal(P*(1+i)^24,R * ca.factor)    # 驗證24期末本利和
##########運用sum函式對vector便捷的處理#########
S <- sum(  # 加總向量元素
  100*(1+i)^(0:(n-1)) # 將0 至 n-1 期的複利加總 
) 
print(S)  # 印出年金複利加總
(P<-S/((1+i)^n))  # 以 S 求算複利下之現值
print(P)  # 印出本例結果
############# end of 6_10.R##########
